@page
@model MyEMShop.EndPoint.Pages.Admin.Product.CreateProductModel
@{
    ViewData["Title"] = "افزودن محصول جدید";
}

<div id="page-wrapper">
    <div class="row">
        <form method="post">
            <div class="col-lg-8">
                <div class="panel panel-warning">
                    <div class="panel-heading">
                        اطلاعات محصول
                    </div>

                    <div class="panel-body">
                        <h3>اطلاعات محصول</h3>
                        <hr />
                        <div class="form-group">
                            <label>عنوان محصول</label>
                            <input type="text" asp-for="product.ProductTitle" class="form-control">
                            <span asp-validation-for="product.ProductTitle"></span>
                        </div>
                        <div class="form-group">
                            <label>گروه اصلی</label>
                            <select class="form-control" asp-for="product.GroupId" asp-items="@(ViewData["Groups"] as SelectList)"></select>
                        </div>
                        <div class="form-group">
                            <label>گروه فرعی</label>
                            <select class="form-control" asp-for="product.SubGroup" asp-items="@(ViewData["SubGroups"] as SelectList)"></select>
                        </div>
                        <button type="submit" class="btn btn-success">ثبت محصول </button>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="panel panel-info">
                    <div class="panel-heading">
                        عکس محصول
                    </div>

                    <div class="panel-body">
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

@section Scripts
    {
        <script>
        $("#product_GroupId").change(function(){
            $("#product_SubGroup").empty();
            $.getJSON("/home/GetSubGroups/" + $("#product_GroupId:selected").val(),function(data){

                $.each(data,function(){
                    $("#product_SubGroup").append('<option value = ' + this.value + '>' + this.text + '</option>');
                });
            });
        });
        </script>
    }